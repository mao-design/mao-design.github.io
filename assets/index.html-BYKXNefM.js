import{_ as e,c as n,a,o as t}from"./app-DFkAz4RW.js";const i={};function d(l,s){return t(),n("div",null,s[0]||(s[0]=[a(`<h2 id="top" tabindex="-1"><a class="header-anchor" href="#top"><span>top</span></a></h2><p>类似Windows任务管理器</p><p><code>top</code> 实时更新系统中的程序运行状态</p><p><code>-d 秒数</code> ：指定<code>top</code> 多少秒更新一次，默认是 3 秒</p><p><code>-i</code> ：让 <code>top</code> 不显示任何闲置或者僵死的进程</p><p><code>-p</code> ：通过 <code>pid</code> 来监控某个进程的状态</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>top -p 1017		# 查看 sshd 进程</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看对应用户的进程" tabindex="-1"><a class="header-anchor" href="#查看对应用户的进程"><span>查看对应用户的进程</span></a></h2><p>输入 top，按 <code>u</code> 键，输入对应的用户名，即可列出对应用户的进程</p><div class="language- line-numbers-mode has-collapsed collapsed" data-ext="" data-title="" style="--vp-collapsed-lines:15;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>top - 20:42:56 up 21:51,  2 users,  load average: 0.01, 0.02, 0.05</span></span>
<span class="line"><span>Tasks: 118 total,   1 running, 117 sleeping,   0 stopped,   0 zombie</span></span>
<span class="line"><span>%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span>
<span class="line"><span>KiB Mem :  1862816 total,  1243224 free,   198552 used,   421040 buff/cache</span></span>
<span class="line"><span>KiB Swap:  2097148 total,  2097148 free,        0 used.  1497608 avail Mem </span></span>
<span class="line"><span># 输入查询的用户名</span></span>
<span class="line"><span>Which user (blank for all) root</span></span>
<span class="line"><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                           </span></span>
<span class="line"><span>     1 root      20   0  125632   8164   2624 S   0.0  0.4   0:08.94 systemd                                                           </span></span>
<span class="line"><span>     2 root      20   0       0      0      0 S   0.0  0.0   0:00.05 kthreadd                                                          </span></span>
<span class="line"><span>     4 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kworker/0:0H                                                      </span></span>
<span class="line"><span>     6 root      20   0       0      0      0 S   0.0  0.0   0:00.59 ksoftirqd/0                                                       </span></span>
<span class="line"><span>     7 root      rt   0       0      0      0 S   0.0  0.0   0:00.08 migration/0                                                       </span></span>
<span class="line"><span>     8 root      20   0       0      0      0 S   0.0  0.0   0:00.00 rcu_bh                                                            </span></span>
<span class="line"><span>     9 root      20   0       0      0      0 S   0.0  0.0   0:04.93 rcu_sched                                                         </span></span>
<span class="line"><span>    10 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 lru-add-drain                                                     </span></span>
<span class="line"><span>    11 root      rt   0       0      0      0 S   0.0  0.0   0:00.71 watchdog/0                                                        </span></span>
<span class="line"><span>    12 root      rt   0       0      0      0 S   0.0  0.0   0:00.68 watchdog/1                                                        </span></span>
<span class="line"><span>    13 root      rt   0       0      0      0 S   0.0  0.0   0:00.08 migration/1                                                       </span></span>
<span class="line"><span>    14 root      20   0       0      0      0 S   0.0  0.0   0:00.45 ksoftirqd/1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="杀死对应进程" tabindex="-1"><a class="header-anchor" href="#杀死对应进程"><span>杀死对应进程</span></a></h2><p>输入 top，按 <code>k</code> 键，输入进程号，即可杀死对应的进程</p><div class="language- line-numbers-mode has-collapsed collapsed" data-ext="" data-title="" style="--vp-collapsed-lines:15;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[root@hadoop01 ~]# top</span></span>
<span class="line"><span>top - 20:44:27 up 21:52,  2 users,  load average: 0.00, 0.01, 0.05</span></span>
<span class="line"><span>Tasks: 117 total,   2 running, 115 sleeping,   0 stopped,   0 zombie</span></span>
<span class="line"><span>%Cpu(s):  0.0 us,  0.1 sy,  0.0 ni, 99.9 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span>
<span class="line"><span>KiB Mem :  1862816 total,  1242960 free,   198796 used,   421060 buff/cache</span></span>
<span class="line"><span>KiB Swap:  2097148 total,  2097148 free,        0 used.  1497356 avail Mem </span></span>
<span class="line"><span># 输入要杀死的进程pid</span></span>
<span class="line"><span>PID to signal/kill [default pid = 686] 101</span></span>
<span class="line"><span># 信号量，9就是强制关闭</span></span>
<span class="line"><span>Send pid 1027 signal [15/sigterm] 9</span></span>
<span class="line"><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                           </span></span>
<span class="line"><span>   686 root      20   0  199436   4868   3744 S   0.1  0.3   2:11.27 vmtoolsd                                                          </span></span>
<span class="line"><span>  4778 root      20   0       0      0      0 R   0.1  0.0   0:41.67 kworker/0:2                                                       </span></span>
<span class="line"><span>     1 root      20   0  125632   8164   2624 S   0.0  0.4   0:08.95 systemd                                                           </span></span>
<span class="line"><span>    11 root      rt   0       0      0      0 S   0.0  0.0   0:00.72 watchdog/0                                                        </span></span>
<span class="line"><span>   683 root      20   0   21684   1324   1012 S   0.0  0.1   0:05.68 irqbalance                                                        </span></span>
<span class="line"><span>   711 root      20   0  548632   8900   6896 S   0.0  0.5   0:06.94 NetworkManager                                                    </span></span>
<span class="line"><span>   787 root       0 -20       0      0      0 S   0.0  0.0   0:00.52 kworker/0:1H                                                      </span></span>
<span class="line"><span>  1018 root      20   0  586424  20156   6748 S   0.0  1.1   0:14.88 tuned                                                             </span></span>
<span class="line"><span>  1020 root      20   0  230932   5152   2804 S   0.0  0.3   0:08.27 rsyslogd                                                          </span></span>
<span class="line"><span>  7644 root      20   0       0      0      0 S   0.0  0.0   0:00.13 kworker/u256:0                                                    </span></span>
<span class="line"><span>  8051 root      20   0       0      0      0 S   0.0  0.0   0:00.01 kworker/0:1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="对应交互" tabindex="-1"><a class="header-anchor" href="#对应交互"><span>对应交互</span></a></h2><p>在top界面</p><table><thead><tr><th>操作</th><th>功能</th></tr></thead><tbody><tr><td>P</td><td>已cpu使用率来排序，默认</td></tr><tr><td>M</td><td>已内存的使用率来排序</td></tr><tr><td>N</td><td>已pid进程号来排序</td></tr><tr><td>T</td><td>按累计运行时间排序</td></tr><tr><td>q</td><td>退出top</td></tr></tbody></table><p>小写 <code>m</code> 切换内存显示样式</p><h2 id="top界面解释" tabindex="-1"><a class="header-anchor" href="#top界面解释"><span>top界面解释</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>top - 21:50:44 up 22:58,  2 users,  load average: 0.00, 0.01, 0.05</span></span>
<span class="line"><span>Tasks: 118 total,   1 running, 117 sleeping,   0 stopped,   0 zombie</span></span>
<span class="line"><span>%Cpu(s):  0.2 us,  0.0 sy,  0.0 ni, 99.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span>
<span class="line"><span>KiB Mem :  1862816 total,  1243188 free,   198392 used,   421236 buff/cache</span></span>
<span class="line"><span>KiB Swap:  2097148 total,  2097148 free,        0 used.  1497728 avail Mem </span></span>
<span class="line"><span></span></span>
<span class="line"><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="第一行" tabindex="-1"><a class="header-anchor" href="#第一行"><span>第一行</span></a></h3><div class="language-plaintext line-numbers-mode" data-ext="plaintext" data-title="plaintext"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>top - 21:50:44 up 22:58,  2 users,  load average: 0.00, 0.01, 0.05</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p><strong><code>21:50:44</code></strong>：当前系统时间。</p></li><li><p><strong><code>up 22:58</code></strong>：系统已运行时间（22 小时 58 分钟）。</p></li><li><p><strong><code>2 users</code></strong>：当前登录的用户数。</p></li><li><p><code>load average</code>：系统负载平均值（过去 1 分钟、5 分钟、15 分钟）。</p><p><strong>含义</strong>：数值表示等待 CPU 资源的进程数，理想情况下应低于 CPU 核心数。此处均接近 0，说明系统负载极低，资源充足。</p></li></ul><h3 id="第二行" tabindex="-1"><a class="header-anchor" href="#第二行"><span>第二行</span></a></h3><div class="language-plaintext line-numbers-mode" data-ext="plaintext" data-title="plaintext"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>Tasks: 118 total,   1 running, 117 sleeping,   0 stopped,   0 zombie</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>118 total</code></strong>：系统中总进程数。</li><li><strong><code>1 running</code></strong>：正在运行的进程数（仅 1 个进程占用 CPU）。</li><li><strong><code>117 sleeping</code></strong>：睡眠状态的进程数（等待资源或事件，不占用 CPU）。</li><li><strong><code>0 stopped</code></strong>：暂停的进程数（通常由调试工具如<code>kill -STOP</code>触发）。</li><li><strong><code>0 zombie</code></strong>：僵尸进程数（进程已结束但父进程未回收资源，需警惕非 0 值）。</li></ul><h3 id="第三行" tabindex="-1"><a class="header-anchor" href="#第三行"><span>第三行</span></a></h3><div class="language-plaintext line-numbers-mode" data-ext="plaintext" data-title="plaintext"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>%Cpu(s):  0.2 us,  0.0 sy,  0.0 ni, 99.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>us</code>（User）</strong>：用户空间进程占用 CPU 百分比（0.2%）。</li><li><strong><code>sy</code>（System）</strong>：内核空间进程占用 CPU 百分比（0%）。</li><li><strong><code>ni</code>（Nice）</strong>：低优先级用户进程占用 CPU 百分比（0%）。</li><li><strong><code>id</code>（Idle）</strong>：CPU 空闲百分比（99.8%，系统非常空闲）。</li><li><strong><code>wa</code>（Wait）</strong>：等待 I/O 操作的 CPU 时间百分比（0%，无磁盘瓶颈）。</li><li><strong><code>hi</code>（Hardware IRQ）</strong>：硬件中断占用 CPU 百分比（0%）。</li><li><strong><code>si</code>（Software IRQ）</strong>：软件中断占用 CPU 百分比（0%）。</li><li><strong><code>st</code>（Steal）</strong>：虚拟机被宿主机抢占的 CPU 时间百分比（0%，非虚拟机环境）。</li></ul><h3 id="第四行" tabindex="-1"><a class="header-anchor" href="#第四行"><span>第四行</span></a></h3><div class="language-plaintext line-numbers-mode" data-ext="plaintext" data-title="plaintext"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>KiB Mem :  1862816 total,  1243188 free,   198392 used,   421236 buff/cache</span></span>
<span class="line"><span>KiB Swap:  2097148 total,  2097148 free,        0 used.  1497728 avail Mem</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>物理内存（Mem）</strong>：</p><ul><li><p><strong><code>total</code></strong>：总内存（约 1.78GB）。</p></li><li><p><strong><code>free</code></strong>：未使用的空闲内存（约 1.19GB）。</p></li><li><p><strong><code>used</code></strong>：已使用的内存（约 193.7MB，包含正在使用的进程内存）。</p></li><li><p><code>buff/cache</code>：缓冲区（buffer）和缓存（cache）占用的内存（约 411.4MB）。</p><p><strong>作用</strong>：buffer 用于临时存储磁盘数据，cache 用于缓存文件内容，两者均可被系统自动回收以分配给活跃进程。</p></li></ul><p><strong>交换空间（Swap）</strong>：</p><ul><li><strong><code>total</code></strong>：总 Swap 空间（约 2GB）。</li><li><strong><code>free</code></strong>：未使用的 Swap 空间（2GB，说明系统未启用虚拟内存，内存充足）。</li><li><strong><code>avail Mem</code></strong>：可用内存（约 1.43GB，系统认为可直接分配给进程的内存，包含 free 和可回收的 buff/cache）</li></ul><h3 id="最后一行" tabindex="-1"><a class="header-anchor" href="#最后一行"><span>最后一行</span></a></h3><div class="language-plaintext line-numbers-mode" data-ext="plaintext" data-title="plaintext"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND </span></span>
<span class="line"><span>  1234 root      20   0  100000   5000   2000 S   0.5  0.3   0:05.01 bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>列名</th><th>含义解释</th></tr></thead><tbody><tr><td><strong>PID</strong></td><td>进程 ID（唯一标识）。</td></tr><tr><td><strong>USER</strong></td><td>进程所属用户。</td></tr><tr><td><strong>PR</strong></td><td>进程优先级（值越小优先级越高）。</td></tr><tr><td><strong>NI</strong></td><td>进程的 nice 值（负值表示更高优先级，范围：-20 ~ 19）。</td></tr><tr><td><strong>VIRT</strong></td><td>进程占用的虚拟内存大小（包括已分配但未使用的内存）。</td></tr><tr><td><strong>RES</strong></td><td>进程占用的物理内存大小（实际使用的内存，即 RSS）。</td></tr><tr><td><strong>SHR</strong></td><td>共享内存大小（如与其他进程共享的库文件）。</td></tr><tr><td><strong>S</strong></td><td>进程状态（<code>R</code>运行、<code>S</code>睡眠、<code>Z</code>僵尸、<code>T</code>暂停）。</td></tr><tr><td><strong>%CPU</strong></td><td>进程占用 CPU 的百分比（若为多核心 CPU，可能超过 100%）。</td></tr><tr><td><strong>%MEM</strong></td><td>进程占用物理内存的百分比（<code>RES / 总内存</code>）。</td></tr><tr><td><strong>TIME+</strong></td><td>进程累计运行时间（格式：分钟：秒）。</td></tr><tr><td><strong>COMMAND</strong></td><td>进程对应的命令名称（可通过<code>ps -ef</code>查看完整路径）。</td></tr></tbody></table>`,37)]))}const o=e(i,[["render",d],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/linux/2v5m1xmr/","title":"top程序监控","lang":"zh-CN","frontmatter":{"title":"top程序监控","createTime":"2025/11/01 16:36:04","permalink":"/linux/2v5m1xmr/","description":"top 类似Windows任务管理器 top 实时更新系统中的程序运行状态 -d 秒数 ：指定top 多少秒更新一次，默认是 3 秒 -i ：让 top 不显示任何闲置或者僵死的进程 -p ：通过 pid 来监控某个进程的状态 查看对应用户的进程 输入 top，按 u 键，输入对应的用户名，即可列出对应用户的进程 杀死对应进程 输入 top，按 k 键...","head":[["meta",{"property":"og:url","content":"https://mao-design.pages.dev/linux/2v5m1xmr/"}],["meta",{"property":"og:site_name","content":"Mao-Design的博客"}],["meta",{"property":"og:title","content":"top程序监控"}],["meta",{"property":"og:description","content":"top 类似Windows任务管理器 top 实时更新系统中的程序运行状态 -d 秒数 ：指定top 多少秒更新一次，默认是 3 秒 -i ：让 top 不显示任何闲置或者僵死的进程 -p ：通过 pid 来监控某个进程的状态 查看对应用户的进程 输入 top，按 u 键，输入对应的用户名，即可列出对应用户的进程 杀死对应进程 输入 top，按 k 键..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-18T18:25:12.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-18T18:25:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"top程序监控\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-18T18:25:12.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":5.42,"words":1625},"git":{"updatedTime":1747592712000,"contributors":[{"name":"mao-design","email":"2781406006@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/mao-design?v=4","url":"https://github.com/mao-design"}]},"autoDesc":true,"filePathRelative":"notes/Linux/Linux运维/21.top程序监控.md","bulletin":false}');export{o as comp,r as data};
