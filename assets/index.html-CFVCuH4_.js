import{_ as n,c as e,a,o as i}from"./app-DFkAz4RW.js";const l="/assets/%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%B8%AA%E6%95%B0-D-La_NHl.png",p={};function d(t,s){return i(),e("div",null,s[0]||(s[0]=[a(`<h2 id="linux分区" tabindex="-1"><a class="header-anchor" href="#linux分区"><span>Linux分区</span></a></h2><p><code>fdisk -l</code> 查看磁盘分区</p><p><code>fdisk /dev/sdb</code> 对磁盘进行分区</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>m：显示帮助</span></span>
<span class="line"><span>p：显示磁盘分区</span></span>
<span class="line"><span>n：新增分区</span></span>
<span class="line"><span>d：删除分区</span></span>
<span class="line"><span>w：写入分区</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新增分区：</p><div class="language- line-numbers-mode has-collapsed collapsed" data-ext="" data-title="" style="--vp-collapsed-lines:15;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>命令(输入 m 获取帮助)：n</span></span>
<span class="line"><span>Partition type:</span></span>
<span class="line"><span>   p   primary (0 primary, 0 extended, 4 free)（主分区）</span></span>
<span class="line"><span>   e   extended（扩展分区）</span></span>
<span class="line"><span>Select (default p): p</span></span>
<span class="line"><span>分区号 (1-4，默认 1)：1 （分一个区）</span></span>
<span class="line"><span>起始 扇区 (2048-41943039，默认为 2048)：</span></span>
<span class="line"><span>将使用默认值 2048</span></span>
<span class="line"><span>Last 扇区, +扇区 or +size{K,M,G} (2048-41943039，默认为 41943039)：</span></span>
<span class="line"><span>将使用默认值 41943039</span></span>
<span class="line"><span>分区 1 已设置为 Linux 类型，大小设为 20 GiB</span></span>
<span class="line"><span></span></span>
<span class="line"><span>命令(输入 m 获取帮助)：w</span></span>
<span class="line"><span>The partition table has been altered!</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Calling ioctl() to re-read partition table.</span></span>
<span class="line"><span>正在同步磁盘。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="格式化分区" tabindex="-1"><a class="header-anchor" href="#格式化分区"><span>格式化分区</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>mkfs -t ext4 /dev/sdb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="挂载分区" tabindex="-1"><a class="header-anchor" href="#挂载分区"><span>挂载分区</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>将/dev/sdb分区挂载到/mnt/new文件夹中</span></span>
<span class="line"><span>mount /dev/sdb /mnt/new</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[root@hadoop01 ~]# lsblk</span></span>
<span class="line"><span>NAME            FSTYPE      LABEL           UUID                                   MOUNTPOINT</span></span>
<span class="line"><span>sda                                                                                </span></span>
<span class="line"><span>├─sda1          xfs                         4edb3eef-5ccf-4438-b594-637b2dfbd8bb   /boot</span></span>
<span class="line"><span>└─sda2          LVM2_member                 dDMZVg-yO4d-K7ql-FHkw-ud52-69D7-58224j </span></span>
<span class="line"><span>  ├─centos-root xfs                         de501881-4f1e-462d-8a71-4403273c44e7   /</span></span>
<span class="line"><span>  └─centos-swap swap                        44fd5b4a-59e0-491b-8578-75a3a9dcf306   [SWAP]</span></span>
<span class="line"><span>sdb             ext4                        fbbcec36-052c-4256-ac57-ac1bbc497d7e   /mnt/new</span></span>
<span class="line"><span>sr0             iso9660     CentOS 7 x86_64 2020-11-04-11-36-43-00</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>取消挂载分区</span></span>
<span class="line"><span>umount /dev/sdb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：重启系统之后挂载会失效</p><h3 id="永久挂载分区" tabindex="-1"><a class="header-anchor" href="#永久挂载分区"><span>永久挂载分区</span></a></h3><p>编辑 <code>/etc/fstab</code></p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>#</span></span>
<span class="line"><span># /etc/fstab</span></span>
<span class="line"><span># Created by anaconda on Wed Mar  8 20:38:26 2023</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Accessible filesystems, by reference, are maintained under &#39;/dev/disk&#39;</span></span>
<span class="line"><span># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 添加分区路径 以及对应挂载的文件夹路径，还有磁盘格式</span></span>
<span class="line"><span>/dev/sdb /mnt/new                       ext4     defaults        0 0</span></span>
<span class="line"><span>/dev/mapper/centos-root /                       xfs     defaults        0 0</span></span>
<span class="line"><span>UUID=4edb3eef-5ccf-4438-b594-637b2dfbd8bb /boot                   xfs     defaults        0 0</span></span>
<span class="line"><span>/dev/mapper/centos-swap swap                    swap    defaults        0 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>立刻生效</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>mount -a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="磁盘信息查询" tabindex="-1"><a class="header-anchor" href="#磁盘信息查询"><span>磁盘信息查询</span></a></h2><p><code>df -h</code></p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[root@localhost mnt]# df -h</span></span>
<span class="line"><span>文件系统                 容量  已用  可用 已用% 挂载点</span></span>
<span class="line"><span>devtmpfs                 898M     0  898M    0% /dev</span></span>
<span class="line"><span>tmpfs                    910M     0  910M    0% /dev/shm</span></span>
<span class="line"><span>tmpfs                    910M  9.5M  901M    2% /run</span></span>
<span class="line"><span>tmpfs                    910M     0  910M    0% /sys/fs/cgroup</span></span>
<span class="line"><span>/dev/mapper/centos-root   47G  2.8G   45G    6% /</span></span>
<span class="line"><span>/dev/sdb                  20G   45M   19G    1% /mnt/new</span></span>
<span class="line"><span>/dev/sda1               1014M  195M  820M   20% /boot</span></span>
<span class="line"><span>tmpfs                    182M     0  182M    0% /run/user/0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看文件夹大小" tabindex="-1"><a class="header-anchor" href="#查看文件夹大小"><span>查看文件夹大小</span></a></h2><p><code>du</code></p><p><code>-s</code> ：查看自定目录占用大小</p><p><code>-h</code> ：查看当前文件夹大小，并且大小要求单位</p><p><code>-a</code> ：查看所有文件的大小（文件和文件夹）</p><p><code>--max-depth=1</code> ：查看目录深度为<code>1</code></p><p><code>-c</code> ：在最后列出汇总值</p><div class="language- line-numbers-mode has-collapsed collapsed" data-ext="" data-title="" style="--vp-collapsed-lines:15;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[root@localhost mnt]# du -hac --max-depth=1 /home/</span></span>
<span class="line"><span>4.0K    /home/html</span></span>
<span class="line"><span>39M     /home/maodesign</span></span>
<span class="line"><span>16K     /home/mao</span></span>
<span class="line"><span>0       /home/ceshi</span></span>
<span class="line"><span>20M     /home/hexo</span></span>
<span class="line"><span>26M     /home/Python-3.11.0.tgz</span></span>
<span class="line"><span>102M    /home/Python-3.11.0</span></span>
<span class="line"><span>8.7M    /home/falsk</span></span>
<span class="line"><span>12K     /home/ce</span></span>
<span class="line"><span>0       /home/he.txt</span></span>
<span class="line"><span>0       /home/he</span></span>
<span class="line"><span>12K     /home/to.txt</span></span>
<span class="line"><span>4.0K    /home/op.txt</span></span>
<span class="line"><span>4.0K    /home/at.txt</span></span>
<span class="line"><span>193M    /home/</span></span>
<span class="line"><span>193M    总用量</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p><img src="`+l+'" alt=""></p>',30)]))}const r=n(p,[["render",d],["__file","index.html.vue"]]),o=JSON.parse('{"path":"/linux/squo17jc/","title":"磁盘管理","lang":"zh-CN","frontmatter":{"title":"磁盘管理","createTime":"2025/11/01 16:36:04","permalink":"/linux/squo17jc/","description":"Linux分区 fdisk -l 查看磁盘分区 fdisk /dev/sdb 对磁盘进行分区 新增分区： 格式化分区 挂载分区 注意：重启系统之后挂载会失效 永久挂载分区 编辑 /etc/fstab 立刻生效 磁盘信息查询 df -h 查看文件夹大小 du -s ：查看自定目录占用大小 -h ：查看当前文件夹大小，并且大小要求单位 -a ：查看所有文件...","head":[["meta",{"property":"og:url","content":"https://mao-design.pages.dev/linux/squo17jc/"}],["meta",{"property":"og:site_name","content":"Mao-Design的博客"}],["meta",{"property":"og:title","content":"磁盘管理"}],["meta",{"property":"og:description","content":"Linux分区 fdisk -l 查看磁盘分区 fdisk /dev/sdb 对磁盘进行分区 新增分区： 格式化分区 挂载分区 注意：重启系统之后挂载会失效 永久挂载分区 编辑 /etc/fstab 立刻生效 磁盘信息查询 df -h 查看文件夹大小 du -s ：查看自定目录占用大小 -h ：查看当前文件夹大小，并且大小要求单位 -a ：查看所有文件..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-28T18:10:09.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-28T18:10:09.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"磁盘管理\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-28T18:10:09.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.04,"words":612},"git":{"updatedTime":1748455809000,"contributors":[{"name":"mao-design","email":"2781406006@qq.com","commits":2,"avatar":"https://avatars.githubusercontent.com/mao-design?v=4","url":"https://github.com/mao-design"}]},"autoDesc":true,"filePathRelative":"notes/Linux/Linux运维/16.磁盘管理.md","bulletin":false}');export{r as comp,o as data};
